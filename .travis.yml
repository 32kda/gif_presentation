language: java
script:
- mvn -f releng/pom.xml clean compile install
install: mvn -f releng/pom.xml -DskipTests -Dgpg.skip install
after_success:
- gpg2 --keyring=$TRAVIS_BUILD_DIR/pubring.gpg --no-default-keyring --import deployment/signingkey.asc
- gpg2 --allow-secret-key-import --keyring=$TRAVIS_BUILD_DIR/secring.gpg --no-default-keyring
  --import deployment/signingkey.asc
- mvn -f releng/pom.xml clean deploy --settings deployment/settings.xml -Dgpg.executable=gpg2 -Dgpg.keyname=52FE1701CAB45328E12ED9C9532A7208D590A2D4
  -Dgpg.passphrase=$PASSPHRASE -Dgpg.publicKeyring=$TRAVIS_BUILD_DIR/pubring.gpg -Dgpg.secretKeyring=$TRAVIS_BUILD_DIR/secring.gpg
env:
  global:
  - secure: C4p2ZRRLSCfkQcv7rpcRyHJayfk1xyYe0sO2cLsWVgyA0JcQZ9uACS1a8jdILGNMuLr6b2WaO+qexOktr62OpUB9tQh90Bxif9jLekVdwsIFSZivClG3qjdezB1L5pAdcYX20vZSdmiejJqW5SJ8AJcL6zTNJ/+SlsArEshTewxmoaMShUnqYV/9njXaVkQO3KA3eUmcVexQ9hBawAsf/bYLcBKrx4ZIAY7jPzd73l8tFv8d0hnxeJjOmAKRfMmaCz+JfsPIwt0hFi2TrOfnvx72RKTuXIhG1W0D3PBlApUnnSfFrb26pAwR9hPyY5XcPSuDaaKMLBF6tKdtTJFbBNwGMJV7m9Sx+LKrpGjI0The5qBVgqIy61ta0cRg4pqiTkYQMTmwGc20SUMXmJs+uVicyvq9qokAxAeB+M20o6V6U162hjSJyA/fPQZrlchXaHpbZicraA7xxQNT49SehnGzkUba+K7zDrf1kSBuwiPQi/B5DRarFm8a/x9fgUqXHpBk8vxZHfki4ldDQYs25vBsfsknEMenLUz0RAVssWbyVrs8VO2JOYU/cAx1Y9A5AFwWrvE4s1te47iUJyj+V1t5wn32mt0twD0aCCPjrGUXNa5NCzvlv/UNQyCFetz9J0GE3ZFvnrWCpFzWjJsjvZApnGybhSS8oPD3WhnxvTQ=
  - secure: WB7NGm1ddnbZLamfEwHqRT8b4iWSsxTNDAhgieX+YPDnywsey2N2U10ikF5YRstEeDaMVKDgQiaweLAZNEW/JKbrqvyhG6FodRkB/6JrRp1noZAZiKWi2QSKwnQv9bk02Yn5A1QwOuSO77NlEn/vUCQuIUUHQZj6cx2EQM4fyJ3/OpHqG/4C6q8m1RhZXV29tv6o6YkHoH1xsE8i8kmzKG3Ys5+nDszrFCpUzNx8JLMrJeqhYDshqfZoCNNnRinvkdXRs8B875dVmRHQfIre33oI3wAz6Kh3jNpuS6NwAb/2Fyrxw/HAYABn1qzitG3jLf0t3rZ3OYcIUHrC7PRGHtp/bFI6772j+Y9bJdSPy5OVqIqWaP601tDBQYWpGq9FhHogvNh8g7OKg+8PMF4LsFu/hR/+9wagwhA3/evKI8akDw6yNRsrIo4tZMerDRQk+omGi8SXb6L6hKA5gMM2OolEv89rmnh7OsP48ndPnIac8MryhJ2LqXvv9e3PkkQAQ3N0G2ZS6+yEd9ZttbRN2ln8VGiIgTWZBCkbEtFLT5426jtCXxNPJA4i7sIIa8nXn2Qw6QP35Vx3vxHO4kUcCa3zil2nH+oE+Hve0X3QV/I+mxPU73VSgsMO2wjoPhhh8G7FDDA185I6sBmn5d/joA6yji35gZkwa2EbWdrcsi4=
  - secure: tb0vg1IV24+E3WCWeJ4zMW1Iy5L+MRULwFgcyqXEYe8YixezqOacph52pVU/kMySmxt9ncoCVYuUAX+1fuScaxyndjsuJlSFzekLyp9xa9IaQVlI9hIhEFSx3uTHbGbCZv452ZIlTi25k7+PEpHFlAbDlaLdBAyXkYRCCiz31n69KTePH62YHMMbIkZs0Ms79Ehb6PValotvy4v4uns7TdLhpZ48teZdbhZjDWpVSXvNHUT1Wm2nXhM0qntnxROfbe+2AFwdkNBYjHgvdruXOmtfW7XLToqxXHtdUUC+L4xMPdXc9KpogC/kHXE1762GlxeK5Pe5xmQCNmwtXgD2G5SwkWQdOyyElIK/vpYADL25VYGr6c2AdCXIshmKcyebemuEvBA0Tyb9VqTVTgYijP4ZPCzOwV0y3wqiPCx4jCECyfH6qixwpmNtbVteBJ9sOAo1FwM6xo9Iusnf/6agIn3dSqDUvCH94lM1o/u5lgwgMw9+yXYd4dkmwdcEtBSok2UCo3oPV+R3Xr+WiKzP/Hm3kRtKjSxfe5CDSEk9hCmPbW0Vbjg9erJmUWOA3mWXbnvh3bI+VhNq/ufLt5tFcg7sQEU3Rul0kZ9U3SyMH2uINwKyFZ/7ENf4+ZBY4QnJuidDdVhV6ls6LKvkJYGLJdQWQ1qefkALdya19G/W7f8=
  - secure: 1HO/KhOBn83JoQHvJq2Jflss4FUXKHgz/t2smAHxzBX2rn7wV07kPxcXbDiDeIoDYC4zvIkQPR2sftZrBIzkS5Wl6hTgbIemnsj+cLqWV10QO/K9HkBg8iYrvXaioyav0Gy+D/0hIrHL2zFBp7O5ZzXR0yZTODUHYTifRid2n6yOt34PlFVF2/YiIYGcjaY7CVN9SBKq1DdEh3IQnKuTz5v54PQTuoqzoXa9faIxQxPL0k9w1iSFvzFlCgNiJR+rW6QV0uYvUjINH/qnnfx0ai3KtLLcIPX3ECuF+hf174cwlxV99oXbU6Nxqzy2pNUig8WtyEdaETqYZ20sRo2WSarpWXxJTga/i7MiXMbSfnrNfScNFWyuzD0JWBONGDlNomC45ZLDfYga2d82uQosuqPrjZzwU+tGaiaLjhcptASw+h6MUKb3UOWxEa8SyGBNPmDjMSYDylGlKzqMt46266KIBEkERfKjHxSzZeFS14aJOCvr8p+G0tqNa2mOY4SPUp7j/mqkHDwFKwU3ciIYo1vn7s7dyLU8rxTfWd1srEvdGDFC5SiZeBzaGjC4I2JlhKZmoTSJMsI1LO4QEVHYbAixBxuRbi3BtYaKjWYGb43do4Tp2GDfdEh8x5WB2jBTdCuGVoKWSZUElxR1R/Ey4GbVDM51oU1ZivJ5MNxpl5s=
  - secure: IYpoZ2MEdKMSbmyVem1sOH0/Jlqv9AgZEefc9sXkY9VzUVHiy0qfUgCnej+E3p/1woadxGRrMsFlu/H67fot2Q5MjVtB0clj/IokxbtXi5soxPt6aAfFFG5zaGid58iBynctGVt2aAjdDPVLpvyF/kN8y8WoPTuHA6J5SXOWfxaeo1QMkvOysltRnu6TmfTFKXVwv0jbh9J5F7nHP5DN3qYk9iFyuxtxgEs3ak9N3zVtjmpNXKYqZVEwHJkiVrlngwj1GNfIJwP746gnnillq7zG0gBBWcf6lYnVAzupin5n9HTB37gW6YJYB0/skgGY8ifgY0o7tby6Wxru4zkvUMUpv46WpDzVSO73WdhxMUrsCXFgc3JZDq/4ZGgGtY1ZsqrttxyMEF/44392XavRtMRKm9Obgwtds4WumFdM3ZXO/mUk3OofRkVu7vW0q2y0mlG9AlWHpCTyY2Sti2xScCcTZaZhXP4JJHALwhICNvHx/Ye+Z5zbP+FqmmpY2OrQNgH5fOOpVv+Xe8mAes1mLEsctU7JxoY/W4JKgE7Uj+EfBPo4v8PeuUf7nqglhnjaRSLd9u4VwF2UED3uZ1uoWeh4m5HLUTvV9CTrmLnGRZ5uBv/JX0aAPvZUZM9fhQ/VabwxLQFDI+OYjhYQfGhFQ3Satsf3GJQDE3HYFZJz4TU=
  - secure: ChKolivCXXP1UZJQJbuujbaWS3t81cIBDG8KdSra6Xe+/oFY2gkQInDaDQCqStQ4cuwXxf/lhQg5h2BfkIru9uEG4GyKxpO/JLcarE6iXL4cZZmHk3BlsUWaYL/hJm1DIAdmZ/OWv9AAuUr83k3ZR9MlSWpPmnfKH5soUIcf8SobYCLkufz4AKUL1P0VYYQfQr8IxdcrTxtbY4/yqJhngiekP120IyXQlOeOS7kqEdzODgIyeiVvSa60uPdxqcHXj2eoO2gPZSndxjcnlPV3e2Qx32Ynr8udqObMwFYRby2VzsOCj43cu6LCyrEwM5PhDGixAt8j6At7QPpo8iO4AL5TBQSID+xBQVn6cLcF5fCbl2HXNt4VN/fR97fUAtpMMvRYRQSrIRw0Bsw7yGK7NtD+JHS5WAw1Nh+FQjbMi7vIH6RnXd5TBA5ewfjxj8mIDyklZJ4Q+VGf7S2cK8GT+MMvcaJ1cQpI5p7h+gO7PNvS2BSPUzItNal14CeEJCvjaBJz7ekGTfnViP5LOA2uWoq3AVvOSL7GFovK0XrUW//0BztExuqi4qnS0AL7+2GRblI2DPO+UtORzG1wsl6Eje2SYj2EYOGfFJ9gUztC8YJw5IlhmvWpmNpG//CdQwh+xYOHEa+/2a/d4dtrHN8HBAdEEqVDeiyDYSSsr6vHqSA=
before_install:
- openssl aes-256-cbc -K $encrypted_1645300b04d0_key -iv $encrypted_1645300b04d0_iv
  -in deployment/signingkey.asc.enc -out signingkey.asc -d
